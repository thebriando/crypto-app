(this["webpackJsonpcrypto-app"]=this["webpackJsonpcrypto-app"]||[]).push([[0],{77:function(e,t,a){e.exports=a(91)},82:function(e,t,a){},83:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(82),a(83),a(48)),s=a(59),l=a(58),u=a(26),d=a.n(u),m=a(49),p=a(50),g=a(60),h=a(51),f=a(61),D=a(39),E=a(114),v=a(130),b=a(122),S=a(123),w=a(124),y=a(125),k=a(126),P=a(127),O=a(13),j=a(128),x=a(52),N=a.n(x),B=a(53),C=a.n(B),M=(a(88),C()(N.a)),J=function(e){function t(e){var a;Object(m.a)(this,t),(a=Object(g.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a.getCurrentPrice(),a.getPricesFromDates(a.formatDateString(a.state.beginDate),a.formatDateString(a.state.endDate));case 2:case"end":return e.stop()}}))},a.getResponseJSON=function(e){var t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(fetch(e));case 2:return t=a.sent,a.abrupt("return",t.json());case 4:case"end":return a.stop()}}))},a.getCurrentPrice=function(){var e,t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(a.getResponseJSON("https://api.coindesk.com/v1/bpi/currentprice.json"));case 2:e=n.sent,t=e.bpi.USD.rate,a.setState({currentPrice:t});case 5:case"end":return n.stop()}}))},a.getPricesFromDates=function(e,t){var n,r,c,i,o,u,m;return d.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return a.setState({loading:!0,progress:0}),p.next=3,d.a.awrap(a.getResponseJSON("https://api.coindesk.com/v1/bpi/historical/close.json?start=".concat(e,"&end=").concat(t)));case 3:for(n=p.sent,r=0,c=Object.entries(n.bpi);r<c.length;r++)i=c[r],o=Object(l.a)(i,2),u=o[0],m=o[1],a.setState({prices:[].concat(Object(s.a)(a.state.prices),[{date:u,price:m}])});a.setState({loading:!1});case 6:case"end":return p.stop()}}))},a.formatDateString=function(e){return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,"-").concat(e.getDate()<10?"0".concat(e.getDate()):e.getDate())},a.handleDateChange=function(e,t){if(a.setState({error:""}),"beginDate"===t&&e>a.state.endDate)a.setState({error:"Begin date cannot be greater than end date"});else{if("endDate"===t){if(e<a.state.beginDate)return void a.setState({error:"End date cannot be greater than begin date"});if(e>new Date)return void a.setState({error:"End date cannot be greater than current date"})}a.setState(Object(o.a)({},t,e),(function(){a.setState({prices:[]});var e=a.formatDateString(a.state.beginDate),t=a.formatDateString(a.state.endDate);a.getPricesFromDates(e,t)}))}};var n=new Date,r=new Date;return r.setMonth(n.getMonth()-1),a.state={currentPrice:"",prices:[],beginDate:r,endDate:n,loading:!1,error:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.currentPrice,n=t.prices,c=t.beginDate,i=t.endDate,o=t.loading,s=t.error;return r.a.createElement("div",{className:"bitcoin_prices"},r.a.createElement(E.a,null,r.a.createElement("h1",null,"Current Bitcoin Price: ",a," USD"),r.a.createElement("div",{className:"date-pickers"},r.a.createElement("h2",{className:"date-pickers-header"},"View Daily Bitcoin Prices"),r.a.createElement("div",{className:"date-picker begin-date"},r.a.createElement(O.a,{utils:D.a},r.a.createElement(j.a,{label:"Begin Date",value:c,onChange:function(t){return e.handleDateChange(t,"beginDate")}}))),r.a.createElement("div",{className:"date-picker end-date"},r.a.createElement(O.a,{utils:D.a},r.a.createElement(j.a,{label:"End Date",value:i,onChange:function(t){return e.handleDateChange(t,"endDate")}})))),r.a.createElement(v.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:""!==s,message:s}),o?r.a.createElement(b.a,null):!s&&r.a.createElement("div",{key:"not-loading"},r.a.createElement(S.a,{"aria-label":"bitcoin table"},r.a.createElement(w.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,"Date"),r.a.createElement(k.a,null,"Bitcoin Price (USD)"))),r.a.createElement(P.a,null,n.map((function(e){return r.a.createElement(y.a,{key:"".concat(e.date,"/").concat(e.price)},r.a.createElement(k.a,null,e.date),r.a.createElement(k.a,null,e.price))})))),r.a.createElement(M,{data:[{x:n.map((function(e){return e.date})),y:n.map((function(e){return e.price})),type:"scatter",mode:"lines",marker:{color:"blue"}}],useResizeHandler:!0,style:{width:"100%",height:"100%"},layout:{autosize:!0,title:"Bitcoin Prices from ".concat(this.formatDateString(c)," to ").concat(this.formatDateString(i))}}))))}}]),t}(n.Component),F=a(121),R=a(120),U=function(){return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(R.a,{variant:"h6",noWrap:!0},"Bitcoin Price Tracker")))},z=(a(90),function(){return r.a.createElement("div",{className:"footer"},r.a.createElement(F.a,null,r.a.createElement("span",{className:"footer-text"},"This data was produced from the CoinDesk Bitcoin Price Index. Non-USD currency data converted using hourly conversion rate from openexchangerates.org")))});var W=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(U,null),r.a.createElement(J,null),r.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[77,1,2]]]);
//# sourceMappingURL=main.2d8469f6.chunk.js.map